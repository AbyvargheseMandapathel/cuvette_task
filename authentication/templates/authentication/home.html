<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{username}} Dashboard</title>
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />
    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.min.css" rel="stylesheet" />
    <style>
        body {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        main {
            flex: 1;
        }
    </style>
</head>

<body class="bg-body-tertiary">

    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-body-tertiary">
        <!-- Container wrapper -->
        <div class="container">
            <!-- Navbar brand -->
            <a class="navbar-brand me-2" href="https://mdbgo.com/">
                <img src="https://mdbcdn.b-cdn.net/img/logo/mdb-transaprent-noshadows.webp" height="16"
                    alt="MDB Logo" loading="lazy" style="margin-top: -1px;" />
            </a>

            <!-- Toggle button -->
            <button data-mdb-collapse-init class="navbar-toggler" type="button"
                data-mdb-target="#navbarButtonsExample" aria-controls="navbarButtonsExample" aria-expanded="false"
                aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>

            <!-- Collapsible wrapper -->
            <div class="collapse navbar-collapse" id="navbarButtonsExample">
                <!-- Left links -->
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="#"></a>
                    </li>
                </ul>
                <!-- Left links -->
                <!-- Right elements -->
                <div class="d-flex align-items-center">
                    <!-- Avatar -->
                    <div class="dropdown">
                        <a data-mdb-dropdown-init class="dropdown-toggle d-flex align-items-center hidden-arrow"
                            href="#" id="navbarDropdownMenuAvatar" role="button" aria-expanded="false">
                            <img
                                src="http://s3.amazonaws.com/37assets/svn/765-default-avatar.png"
                                class="rounded-circle" height="25" alt="Black and White Portrait of a Man"
                                loading="lazy" />
                            Hi {{ username }}
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownMenuAvatar">
                            <li>
                                <a class="dropdown-item" href="{% url 'profile_page' %}">{{ username }}'s profile</a>
                            </li>
                            <li>
                                <a class="dropdown-item" href="{% url 'logout' %}">Logout</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- Collapsible wrapper -->
            </div>
            <!-- Container wrapper -->
        </div>
    </nav>
    <!-- Navbar -->
<!-- Content Section -->
<main class="d-flex justify-content-center align-items-center">

    <!-- User Information Card -->
    <div class="row mt-2">
    <div class="card text-center">
      <div class="card-body">
        <h5 class="card-title">Hi {{ username }}</h5>
        <p class="card-text">Email: {{ email }}</p>
        <!-- Add additional profile information here -->
  
        <!-- Profile Page Button -->
        <a href="{% url 'profile_page' %}" class="btn btn-primary">Go to Profile Page</a>
  
        <!-- Logout Button -->
        <a href="{% url 'logout' %}" class="btn btn-danger">Logout</a>
      </div>
    </div>
  
    <!-- New Line -->
    <br>
  
    <!-- Other Users Section -->
    <div class="other-users-section mt-4">
      <!-- Heading for Other Users -->
      <h2>Other Users</h2>
  
      <!-- Displaying Other Users in Cards -->
<div class="row mt-2">
    {% for recent_user in recent_users %}
    <div class="col-lg-8 mb-8">
        <div class="card">
            <div class="card-body">
                <!-- Circular area for profile picture -->
                <div class="profile-pic-area mb-3 text-center">
                    {% if recent_user.profile_picture %}
                    <img src="{{ recent_user.profile_picture.url }}" class="rounded-circle" alt="Profile Picture"
                        width="60" height="60">
                    {% else %}
                    <img src="http://s3.amazonaws.com/37assets/svn/765-default-avatar.png" class="rounded-circle"
                        alt="Profile Picture" width="60" height="60">
                    {% endif %}

                    <h5 class="card-title">{{ recent_user.username }}</h5>
                    <p class="card-text">Email: {{ recent_user.email }}</p>
                    <!-- Add additional user information here -->

                    <!-- View Profile Button -->
                    <a href="{% url 'view_profile' recent_user.id %}" class="btn btn-primary">View Profile</a>
                </div>
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- Pagination Links -->
<nav aria-label="Page navigation example">
    <ul class="pagination">
        {% if recent_users.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page=1">&laquo; first</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="?page={{ recent_users.previous_page_number }}">previous</a>
            </li>
        {% endif %}

        <li class="page-item disabled">
            <span class="page-link">Page {{ recent_users.number }} of {{ recent_users.paginator.num_pages }}</span>
        </li>

        {% if recent_users.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ recent_users.next_page_number }}">next</a>
            </li>
            <li class="page-item">
                <a class="page-link" href="?page={{ recent_users.paginator.num_pages }}">last &raquo;</a>
            </li>
        {% endif %}
    </ul>
</nav>


    
  
    </div>
  </div>
</div>
  </main>
  
  <footer class="fixed-bottom text-center bg-body-tertiary">
    <!-- Grid container -->
    <div class="container p-4 pb-0">
      <!-- Section: Social media -->
      <section class="mb-4">
        <!-- Facebook -->
        <a
        data-mdb-ripple-init
          class="btn text-white btn-floating m-1"
          style="background-color: #3b5998;"
          href="tel:8078879864"
          role="button"
          ><i class="fa-solid fa-phone"></i></a>
          <!-- portfolio -->
        <a
        data-mdb-ripple-init
          class="btn text-white btn-floating m-1"
          style="background-color: #3b5998;"
          href="https://abyvarghesemandapathel.github.io/"
          role="button"
          ><i class="fa-solid fa-globe"></i></a>
        <!-- Linkedin -->
        <a
          data-mdb-ripple-init
          class="btn text-white btn-floating m-1"
          style="background-color: #0082ca;"
          href="https://www.linkedin.com/in/aby-varghese-mandapathel/"
          role="button"
          ><i class="fab fa-linkedin-in"></i
        ></a>
        <!-- Github -->
        <a
          data-mdb-ripple-init
          class="btn text-white btn-floating m-1"
          style="background-color: #333333;"
          href="https://github.com/AbyvargheseMandapathel"
          role="button"
          ><i class="fab fa-github"></i
        ></a>
      </section>
      <!-- Section: Social media -->
    </div>
    <!-- Grid container -->
  </footer>
  

    

    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/7.1.0/mdb.umd.min.js"></script>
    <script>
        // Adjust vh-100 dynamically based on the heights of navbar and footer
window.addEventListener('DOMContentLoaded', () => {
    const navbarHeight = document.querySelector('nav').offsetHeight;
    const footerHeight = document.querySelector('footer').offsetHeight;
    document.body.style.setProperty('--vh', `calc(100vh - ${navbarHeight + footerHeight}px)`);
});

window.addEventListener('resize', () => {
    const navbarHeight = document.querySelector('nav').offsetHeight;
    const footerHeight = document.querySelector('footer').offsetHeight;
    document.body.style.setProperty('--vh', `calc(100vh - ${navbarHeight + footerHeight}px)`);
});

    </script>
</body>

</html>
